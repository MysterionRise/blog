<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Networking on Hacker notes</title>
    <link>//localhost:1313/en/tags/networking/</link>
    <description>Recent content in Networking on Hacker notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 12 Mar 2025 18:12:41 +0100</lastBuildDate><atom:link href="//localhost:1313/en/tags/networking/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Jimâ€™s Garage: Secure Cloudflare Tunnels with vLANs and an Internal Firewall | Notes</title>
      <link>//localhost:1313/en/posts/secure-cloudflare-tunnels-with-vlan-and-internal-firewall/</link>
      <pubDate>Wed, 12 Mar 2025 18:12:41 +0100</pubDate>
      
      <guid>//localhost:1313/en/posts/secure-cloudflare-tunnels-with-vlan-and-internal-firewall/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://youtu.be/1n9lCYCLUYI?si=kSePG_eLvdoczvN6&#34;&gt;Secure Cloudflare Tunnels with vLANs and an Internal Firewall Before It&amp;rsquo;s Too Late! | Youtube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Cloudflare tunnels are useful but require VLAN segmentation, firewalls, and IDS/IPS for reliable protection.&lt;/p&gt;
&lt;h2 id=&#34;ideas&#34;&gt;IDEAS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare tunnels provide easy external access but transfer security control to Cloudflare.&lt;/li&gt;
&lt;li&gt;Privacy concerns arise because Cloudflare can see all traffic entering your network.&lt;/li&gt;
&lt;li&gt;Security specialists recommend using multiple protection layers instead of a single solution.&lt;/li&gt;
&lt;li&gt;A Cloudflare tunnel is similar to port forwarding but is managed by Cloudflare.&lt;/li&gt;
&lt;li&gt;A segmented internal network provides more control over exposed services.&lt;/li&gt;
&lt;li&gt;Creating VLANs for Cloudflare tunnels isolates incoming traffic from sensitive systems.&lt;/li&gt;
&lt;li&gt;Internal firewalls with IDS and IPS add another protection layer.&lt;/li&gt;
&lt;li&gt;Routing traffic through CrowdSec allows real-time threat analysis.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels don&amp;rsquo;t transmit the original IP, which limits some security measures.&lt;/li&gt;
&lt;li&gt;Blocking unwanted traffic at the Cloudflare level provides partial protection.&lt;/li&gt;
&lt;li&gt;Using Mac VLAN makes a container appear as a separate device on the network.&lt;/li&gt;
&lt;li&gt;VLAN segmentation prevents Cloudflare traffic from accessing protected internal networks.&lt;/li&gt;
&lt;li&gt;Firewall rules provide detailed access control for Cloudflare tunnels.&lt;/li&gt;
&lt;li&gt;Allowing Cloudflare tunnel traffic only to specific ports minimizes risks.&lt;/li&gt;
&lt;li&gt;Next-generation firewalls with IDS and IPS protect against attacks.&lt;/li&gt;
&lt;li&gt;Firewalls protect not only against Cloudflare tunnels but also against malware.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels are useful for users with CGNAT who cannot use port forwarding.&lt;/li&gt;
&lt;li&gt;Internal firewalls provide greater security control than Cloudflare.&lt;/li&gt;
&lt;li&gt;VLAN and firewall settings limit potential damage if a tunnel is compromised.&lt;/li&gt;
&lt;li&gt;Additional threat scanning increases overall network security.&lt;/li&gt;
&lt;li&gt;Signature-based firewall detection protects against web attacks.&lt;/li&gt;
&lt;li&gt;Restricting Cloudflare tunnels to a dedicated VLAN prevents their access to the entire network.&lt;/li&gt;
&lt;li&gt;Deploying security tools in Docker simplifies management.&lt;/li&gt;
&lt;li&gt;Portainer helps manage Docker but should be protected from external access.&lt;/li&gt;
&lt;li&gt;A well-configured firewall reduces risks of various network threats.&lt;/li&gt;
&lt;li&gt;A multi-layered security approach significantly reduces the likelihood of a breach.&lt;/li&gt;
&lt;li&gt;Internal IDS/IPS supplements Cloudflare&amp;rsquo;s protection measures, enhancing security.&lt;/li&gt;
&lt;li&gt;Properly configured firewall rules allow access without compromising infrastructure.&lt;/li&gt;
&lt;li&gt;Network security should include multiple solutions rather than relying on a single tool.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;insights&#34;&gt;INSIGHTS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Relying solely on Cloudflare tunnels means putting all security in the hands of one company.&lt;/li&gt;
&lt;li&gt;Network segmentation prevents breaches from spreading to internal infrastructure.&lt;/li&gt;
&lt;li&gt;Adding extra protection layers reduces risks without disrupting availability.&lt;/li&gt;
&lt;li&gt;Firewalls and VLANs create an internal security perimeter around exposed services.&lt;/li&gt;
&lt;li&gt;IDS and IPS provide threat detection beyond standard firewall rules.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels simplify access but require careful security configuration.&lt;/li&gt;
&lt;li&gt;Restricting the tunnel to specific VLANs prevents lateral movement by attackers.&lt;/li&gt;
&lt;li&gt;Combining external and internal threat analysis improves network resilience.&lt;/li&gt;
&lt;li&gt;Flexible firewall rules allow precise control over resource access.&lt;/li&gt;
&lt;li&gt;The lack of IP forwarding from Cloudflare limits the capabilities of some defensive mechanisms.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;quotes&#34;&gt;QUOTES:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;Cloudflare tunnels are cool technology, but you shouldn&amp;rsquo;t rely on just one layer of protection.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Cloudflare can see all traffic coming into your network.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;A Cloudflare tunnel is similar to port forwarding, but control is completely handed over to Cloudflare.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;We want to segment the internal network to create something like a DMZ.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Routing traffic through an internal firewall adds an additional layer of protection.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;CrowdSec uses intelligent threat analysis to check incoming traffic.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;We don&amp;rsquo;t see the original IP because Cloudflare doesn&amp;rsquo;t pass this information.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Mac VLAN makes a container a separate physical device on the network.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Firewall rules ensure that the Cloudflare tunnel can only access authorized resources.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Enabling IDS and IPS adds another layer of protection beyond Cloudflare.&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;habits&#34;&gt;HABITS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Always use multiple layers of protection, not just one solution.&lt;/li&gt;
&lt;li&gt;Regularly check and update firewall rules.&lt;/li&gt;
&lt;li&gt;Segment your network using VLANs to isolate services.&lt;/li&gt;
&lt;li&gt;Analyze IDS/IPS logs for suspicious activity.&lt;/li&gt;
&lt;li&gt;Use next-generation firewalls for advanced protection.&lt;/li&gt;
&lt;li&gt;Deploy security tools like CrowdSec for threat analysis.&lt;/li&gt;
&lt;li&gt;Convert Docker commands into Compose files for easier management.&lt;/li&gt;
&lt;li&gt;Assign dedicated VLANs for external services.&lt;/li&gt;
&lt;li&gt;Regularly test firewall rules by checking access from outside.&lt;/li&gt;
&lt;li&gt;Monitor Cloudflare logs for unexpected access attempts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;facts&#34;&gt;FACTS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare tunnels provide free access to internal services without port forwarding.&lt;/li&gt;
&lt;li&gt;Cloudflare doesn&amp;rsquo;t pass the original IP address of incoming traffic.&lt;/li&gt;
&lt;li&gt;VLAN segmentation is a key method for network protection.&lt;/li&gt;
&lt;li&gt;IDS analyzes traffic for potential threats.&lt;/li&gt;
&lt;li&gt;IPS blocks detected threats before they penetrate.&lt;/li&gt;
&lt;li&gt;Firewalls with IDS/IPS enhance network protection.&lt;/li&gt;
&lt;li&gt;CrowdSec uses collective threat analysis to identify attacks.&lt;/li&gt;
&lt;li&gt;Using Mac VLAN allows a container to appear as a separate device.&lt;/li&gt;
&lt;li&gt;CGNAT prevents most users from doing port forwarding.&lt;/li&gt;
&lt;li&gt;DMZ (demilitarized zone) isolates public services from the internal network.&lt;/li&gt;
&lt;li&gt;Next-generation firewalls offer features beyond basic filtering.&lt;/li&gt;
&lt;li&gt;Portainer is a web interface for managing Docker.&lt;/li&gt;
&lt;li&gt;Cloudflare Zero Trust improves security through access control.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;resources&#34;&gt;RESOURCES:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Christian Lemper&amp;rsquo;s video on Cloudflare tunnel security issues.&lt;/li&gt;
&lt;li&gt;Cloudflare Zero Trust.&lt;/li&gt;
&lt;li&gt;CrowdSec for threat analysis.&lt;/li&gt;
&lt;li&gt;Docker Compose for container management.&lt;/li&gt;
&lt;li&gt;Portainer for Docker administration.&lt;/li&gt;
&lt;li&gt;Sophos XG Firewall.&lt;/li&gt;
&lt;li&gt;NordVPN for secure remote access.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;recommendations&#34;&gt;RECOMMENDATIONS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Separate networks using VLANs to limit external access.&lt;/li&gt;
&lt;li&gt;Use a next-generation firewall with IDS/IPS for protection.&lt;/li&gt;
&lt;li&gt;Include CrowdSec or similar tools for threat analysis.&lt;/li&gt;
&lt;li&gt;Restrict Cloudflare tunnel traffic to specific VLANs.&lt;/li&gt;
&lt;li&gt;Configure firewall rules to allow only necessary traffic.&lt;/li&gt;
&lt;li&gt;Convert Docker commands into Compose files for convenience.&lt;/li&gt;
&lt;li&gt;Use Mac VLAN to isolate containerized services.&lt;/li&gt;
&lt;li&gt;Regularly verify firewall rules by testing access from outside.&lt;/li&gt;
&lt;li&gt;Monitor Cloudflare logs for suspicious activities.&lt;/li&gt;
&lt;li&gt;Limit external connections to a minimum.&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;&lt;a href=&#34;https://youtu.be/1n9lCYCLUYI?si=kSePG_eLvdoczvN6&#34;&gt;Secure Cloudflare Tunnels with vLANs and an Internal Firewall Before It&amp;rsquo;s Too Late! | Youtube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Cloudflare tunnels are useful but require VLAN segmentation, firewalls, and IDS/IPS for reliable protection.&lt;/p&gt;
&lt;h2 id=&#34;ideas&#34;&gt;IDEAS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare tunnels provide easy external access but transfer security control to Cloudflare.&lt;/li&gt;
&lt;li&gt;Privacy concerns arise because Cloudflare can see all traffic entering your network.&lt;/li&gt;
&lt;li&gt;Security specialists recommend using multiple protection layers instead of a single solution.&lt;/li&gt;
&lt;li&gt;A Cloudflare tunnel is similar to port forwarding but is managed by Cloudflare.&lt;/li&gt;
&lt;li&gt;A segmented internal network provides more control over exposed services.&lt;/li&gt;
&lt;li&gt;Creating VLANs for Cloudflare tunnels isolates incoming traffic from sensitive systems.&lt;/li&gt;
&lt;li&gt;Internal firewalls with IDS and IPS add another protection layer.&lt;/li&gt;
&lt;li&gt;Routing traffic through CrowdSec allows real-time threat analysis.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels don&amp;rsquo;t transmit the original IP, which limits some security measures.&lt;/li&gt;
&lt;li&gt;Blocking unwanted traffic at the Cloudflare level provides partial protection.&lt;/li&gt;
&lt;li&gt;Using Mac VLAN makes a container appear as a separate device on the network.&lt;/li&gt;
&lt;li&gt;VLAN segmentation prevents Cloudflare traffic from accessing protected internal networks.&lt;/li&gt;
&lt;li&gt;Firewall rules provide detailed access control for Cloudflare tunnels.&lt;/li&gt;
&lt;li&gt;Allowing Cloudflare tunnel traffic only to specific ports minimizes risks.&lt;/li&gt;
&lt;li&gt;Next-generation firewalls with IDS and IPS protect against attacks.&lt;/li&gt;
&lt;li&gt;Firewalls protect not only against Cloudflare tunnels but also against malware.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels are useful for users with CGNAT who cannot use port forwarding.&lt;/li&gt;
&lt;li&gt;Internal firewalls provide greater security control than Cloudflare.&lt;/li&gt;
&lt;li&gt;VLAN and firewall settings limit potential damage if a tunnel is compromised.&lt;/li&gt;
&lt;li&gt;Additional threat scanning increases overall network security.&lt;/li&gt;
&lt;li&gt;Signature-based firewall detection protects against web attacks.&lt;/li&gt;
&lt;li&gt;Restricting Cloudflare tunnels to a dedicated VLAN prevents their access to the entire network.&lt;/li&gt;
&lt;li&gt;Deploying security tools in Docker simplifies management.&lt;/li&gt;
&lt;li&gt;Portainer helps manage Docker but should be protected from external access.&lt;/li&gt;
&lt;li&gt;A well-configured firewall reduces risks of various network threats.&lt;/li&gt;
&lt;li&gt;A multi-layered security approach significantly reduces the likelihood of a breach.&lt;/li&gt;
&lt;li&gt;Internal IDS/IPS supplements Cloudflare&amp;rsquo;s protection measures, enhancing security.&lt;/li&gt;
&lt;li&gt;Properly configured firewall rules allow access without compromising infrastructure.&lt;/li&gt;
&lt;li&gt;Network security should include multiple solutions rather than relying on a single tool.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;insights&#34;&gt;INSIGHTS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Relying solely on Cloudflare tunnels means putting all security in the hands of one company.&lt;/li&gt;
&lt;li&gt;Network segmentation prevents breaches from spreading to internal infrastructure.&lt;/li&gt;
&lt;li&gt;Adding extra protection layers reduces risks without disrupting availability.&lt;/li&gt;
&lt;li&gt;Firewalls and VLANs create an internal security perimeter around exposed services.&lt;/li&gt;
&lt;li&gt;IDS and IPS provide threat detection beyond standard firewall rules.&lt;/li&gt;
&lt;li&gt;Cloudflare tunnels simplify access but require careful security configuration.&lt;/li&gt;
&lt;li&gt;Restricting the tunnel to specific VLANs prevents lateral movement by attackers.&lt;/li&gt;
&lt;li&gt;Combining external and internal threat analysis improves network resilience.&lt;/li&gt;
&lt;li&gt;Flexible firewall rules allow precise control over resource access.&lt;/li&gt;
&lt;li&gt;The lack of IP forwarding from Cloudflare limits the capabilities of some defensive mechanisms.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;quotes&#34;&gt;QUOTES:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;Cloudflare tunnels are cool technology, but you shouldn&amp;rsquo;t rely on just one layer of protection.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Cloudflare can see all traffic coming into your network.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;A Cloudflare tunnel is similar to port forwarding, but control is completely handed over to Cloudflare.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;We want to segment the internal network to create something like a DMZ.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Routing traffic through an internal firewall adds an additional layer of protection.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;CrowdSec uses intelligent threat analysis to check incoming traffic.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;We don&amp;rsquo;t see the original IP because Cloudflare doesn&amp;rsquo;t pass this information.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Mac VLAN makes a container a separate physical device on the network.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Firewall rules ensure that the Cloudflare tunnel can only access authorized resources.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Enabling IDS and IPS adds another layer of protection beyond Cloudflare.&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;habits&#34;&gt;HABITS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Always use multiple layers of protection, not just one solution.&lt;/li&gt;
&lt;li&gt;Regularly check and update firewall rules.&lt;/li&gt;
&lt;li&gt;Segment your network using VLANs to isolate services.&lt;/li&gt;
&lt;li&gt;Analyze IDS/IPS logs for suspicious activity.&lt;/li&gt;
&lt;li&gt;Use next-generation firewalls for advanced protection.&lt;/li&gt;
&lt;li&gt;Deploy security tools like CrowdSec for threat analysis.&lt;/li&gt;
&lt;li&gt;Convert Docker commands into Compose files for easier management.&lt;/li&gt;
&lt;li&gt;Assign dedicated VLANs for external services.&lt;/li&gt;
&lt;li&gt;Regularly test firewall rules by checking access from outside.&lt;/li&gt;
&lt;li&gt;Monitor Cloudflare logs for unexpected access attempts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;facts&#34;&gt;FACTS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare tunnels provide free access to internal services without port forwarding.&lt;/li&gt;
&lt;li&gt;Cloudflare doesn&amp;rsquo;t pass the original IP address of incoming traffic.&lt;/li&gt;
&lt;li&gt;VLAN segmentation is a key method for network protection.&lt;/li&gt;
&lt;li&gt;IDS analyzes traffic for potential threats.&lt;/li&gt;
&lt;li&gt;IPS blocks detected threats before they penetrate.&lt;/li&gt;
&lt;li&gt;Firewalls with IDS/IPS enhance network protection.&lt;/li&gt;
&lt;li&gt;CrowdSec uses collective threat analysis to identify attacks.&lt;/li&gt;
&lt;li&gt;Using Mac VLAN allows a container to appear as a separate device.&lt;/li&gt;
&lt;li&gt;CGNAT prevents most users from doing port forwarding.&lt;/li&gt;
&lt;li&gt;DMZ (demilitarized zone) isolates public services from the internal network.&lt;/li&gt;
&lt;li&gt;Next-generation firewalls offer features beyond basic filtering.&lt;/li&gt;
&lt;li&gt;Portainer is a web interface for managing Docker.&lt;/li&gt;
&lt;li&gt;Cloudflare Zero Trust improves security through access control.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;resources&#34;&gt;RESOURCES:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Christian Lemper&amp;rsquo;s video on Cloudflare tunnel security issues.&lt;/li&gt;
&lt;li&gt;Cloudflare Zero Trust.&lt;/li&gt;
&lt;li&gt;CrowdSec for threat analysis.&lt;/li&gt;
&lt;li&gt;Docker Compose for container management.&lt;/li&gt;
&lt;li&gt;Portainer for Docker administration.&lt;/li&gt;
&lt;li&gt;Sophos XG Firewall.&lt;/li&gt;
&lt;li&gt;NordVPN for secure remote access.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;recommendations&#34;&gt;RECOMMENDATIONS:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Separate networks using VLANs to limit external access.&lt;/li&gt;
&lt;li&gt;Use a next-generation firewall with IDS/IPS for protection.&lt;/li&gt;
&lt;li&gt;Include CrowdSec or similar tools for threat analysis.&lt;/li&gt;
&lt;li&gt;Restrict Cloudflare tunnel traffic to specific VLANs.&lt;/li&gt;
&lt;li&gt;Configure firewall rules to allow only necessary traffic.&lt;/li&gt;
&lt;li&gt;Convert Docker commands into Compose files for convenience.&lt;/li&gt;
&lt;li&gt;Use Mac VLAN to isolate containerized services.&lt;/li&gt;
&lt;li&gt;Regularly verify firewall rules by testing access from outside.&lt;/li&gt;
&lt;li&gt;Monitor Cloudflare logs for suspicious activities.&lt;/li&gt;
&lt;li&gt;Limit external connections to a minimum.&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
  </channel>
</rss>
